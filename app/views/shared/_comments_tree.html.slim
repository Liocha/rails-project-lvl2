- def commentRender(comment, post)
- 
-     data =  render partial: "shared/comment", locals: {comment: comment, post: post}
- 
-     "<div class='d-flex text-muted'>#{data}</div>"
- end
- rendered小omments = comments.reduce('') do |acc, comment|
-     rendered小omment = commentRender(comment, post)
-     commentTree = ''
-     unless  comment['children'].empty?
-         commentTree = render partial: "shared/comments_tree", locals: {comments: comment['children'], post: @post}
-     end
-         "#{acc}#{rendered小omment}#{commentTree}"
-     end.html_safe
.p-2.bg-body.rounded
  = rendered小omments
